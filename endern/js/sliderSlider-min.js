(function(){var t=["fillStyle","font","globalAlpha","globalCompositeOperation","lineCap","lineDashOffset","lineJoin","lineWidth","miterLimit","shadowBlur","shadowColor","shadowOffsetX","shadowOffsetY","strokeStyle","textAlign","textBaseLine"],e=function(e,i){for(var n in i)-1!==t.indexOf(n)&&(e[n]=i[n])},i=this.CircularProgress=function(e){var i,n,a;for(n in e=e||{},this.el=document.createElement("canvas"),this.options=e,e.text=e.text||{},e.text.value=e.text.value||null,i=this.el.getContext("2d"),t)e[a=t[n]]=void 0!==e[a]?e[a]:i[a];e.radius&&this.radius(e.radius)};i.prototype.update=function(t){return this._percent=t,this.draw(),this},i.prototype.radius=function(t){var e=2*t;return this.el.width=e,this.el.height=e,function(t){var e=t.getContext("2d"),i=window.devicePixelRatio||1;1!==i&&(t.style.width=t.width+"px",t.style.height=t.height+"px",t.width*=i,t.height*=i,e.scale(i,i))}(this.el),this},i.prototype.draw=function(){var t,i,n,a=this.options,h=this.el.getContext("2d"),l=Math.min(this._percent,100),o=window.devicePixelRatio||1,s=2*Math.PI*l/100,r=this.el.width/o,d=r/2,u=d,c=d;return h.clearRect(0,0,r,r),a.initial&&(e(h,a),e(h,a.initial),h.beginPath(),h.arc(u,c,d-h.lineWidth,0,2*Math.PI,!1),h.stroke()),e(h,a),h.beginPath(),h.arc(u,c,d-h.lineWidth,0,s,!1),h.stroke(),a.text&&(e(h,a),e(h,a.text)),i=null===a.text.value?(0|l)+"%":a.text.value,t=h.measureText(i).width,n=(n=h.font.match(/(\d+)px/))?n[1]:0,h.fillText(i,u-t/2+1,c+n/2-1),this}}).call(this);