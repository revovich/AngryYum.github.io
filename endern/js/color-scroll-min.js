jQuery.fn.colourBrightness=function(){var r,a,s,t=function(r){for(var a="";"html"!=r[0].tagName.toLowerCase()&&("rgba(0, 0, 0, 0)"==(a=r.css("background-color"))||"transparent"==a);)r=r.parent();return a}(this);return t.match(/^rgb/)?(r=(t=(t=t.match(/rgba?\(([^)]+)\)/)[1]).split(/ *, */).map(Number))[0],a=t[1],s=t[2]):"#"==t[0]&&7==t.length?(r=parseInt(t.slice(1,3),16),a=parseInt(t.slice(3,5),16),s=parseInt(t.slice(5,7),16)):"#"==t[0]&&4==t.length&&(r=parseInt(t[1]+t[1],16),a=parseInt(t[2]+t[2],16),s=parseInt(t[3]+t[3],16)),125>(299*r+587*a+114*s)/1e3?this.removeClass("light").addClass("dark"):this.removeClass("dark").addClass("light"),this};